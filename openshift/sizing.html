<!DOCTYPE html>
<html>
<head><title>VM Sizing Calculator</title></head>
<body>
  <h1>VM Sizing Calculator</h1>
  <form id="sizingForm">
    Number of VMs: <input type="number" id="vms" value="50"><br>
    vCPUs per VM: <input type="number" id="vcpus" value="2"><br>
    Memory per VM (GiB): <input type="number" id="ram" value="8"><br>
    Overcommit Ratio: <input type="number" step="0.1" id="ratio" value="2"><br>
    HA Reserve %: <input type="number" step="0.01" id="ha" value="0.2"><br>
    <button type="button" onclick="calculate()">Calculate</button>
  </form>
  <div id="result"></div>
<script>
function calculate() {
  const vms = Number(document.getElementById('vms').value);
  const vcpus = Number(document.getElementById('vcpus').value);
  const ram = Number(document.getElementById('ram').value);
  const ratio = Number(document.getElementById('ratio').value);
  const ha = Number(document.getElementById('ha').value);

  const totalVcpus = vms * vcpus;
  const totalRam = vms * ram;

  const physicalCpus = Math.ceil(totalVcpus / ratio);
  const physicalRam = Math.ceil(totalRam / (1 - ha));

  document.getElementById('result').innerHTML =
    "<b>Physical CPUs Needed:</b> " + physicalCpus +
    "<br><b>Physical RAM Needed (GiB):</b> " + physicalRam;
}
</script>
</body>
</html>
